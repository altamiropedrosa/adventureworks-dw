version: 2
models:
  - name: dim_enderecos
    description: Essa é a dimensão com informações dos endereços da Adventure Works.
    tests:
      - dbt_utils.equal_rowcount:
          compare_model: ref('stg_sap_adw_enderecos')
    columns:
      - name: sk_endereco
        description: Sk do endereço. Chave Surrogate key (SK) da dimensão endereços
        tests:
          - unique
          - not_null
      
      - name: id_endereco
        description: Id do endereço. Chave de negócio (NK) da tabela enderecos
        tests:
          - unique
          - not_null

      - name: ds_endereco
        description: Descrição do endereço

      - name: nm_cidade
        description: Nome da cidade do endereço

      - name: id_estado
        description: Id do estado do endereço. Chave de negócio (NK) da tabela estados

      - name: cd_estado
        description: Códugo do estado do endereço

      - name: nm_estado
        description: Nome do estado do endereço

      - name: nr_cep
        description: CEP do endereço

      - name: cd_pais
        description: Código do país do endereço

      - name: nm_pais
        description: Nome do país do endereço

